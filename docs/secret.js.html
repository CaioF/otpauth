<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: secret.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: secret.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Utils } from './utils';
import { Crypto } from './crypto';

/**
 * Secret key object.
 */
export class Secret {
	/**
	 * @param {Object} [config] Configuration options.
	 * @param {ArrayBuffer} [config.buffer=Crypto.randomBytes] Secret key.
	 * @param {number} [config.size=20] Number of random bytes to generate, ignored if 'buffer' is provided.
	 */
	constructor({ buffer, size = 20 } = {}) {
		/**
		 * Secret key.
		 * @type {ArrayBuffer}
		 */
		this.buffer = typeof buffer === 'undefined'
			? Crypto.randomBytes(size)
			: buffer;
	}

	/**
	 * Converts a raw string to a Secret object.
	 * @param {string} str Raw string.
	 * @returns {Secret} Secret object.
	 */
	static fromRaw(str) {
		return new Secret({ buffer: Utils.raw.encode(str) });
	}

	/**
	 * Converts a base32 string to a Secret object.
	 * @param {string} str Base32 string.
	 * @returns {Secret} Secret object.
	 */
	static fromB32(str) {
		return new Secret({ buffer: Utils.b32.encode(str) });
	}

	/**
	 * Converts a hexadecimal string to a Secret object.
	 * @param {string} str Hexadecimal string.
	 * @returns {Secret} Secret object.
	 */
	static fromHex(str) {
		return new Secret({ buffer: Utils.hex.encode(str) });
	}

	/**
	 * String representation of secret key.
	 * @type {string}
	 */
	get raw() {
		Object.defineProperty(this, 'raw', {
			enumerable: true,
			configurable: true,
			writable: true,
			value: Utils.raw.decode(this.buffer)
		});

		return this.raw;
	}

	/**
	 * Base32 representation of secret key.
	 * @type {string}
	 */
	get b32() {
		Object.defineProperty(this, 'b32', {
			enumerable: true,
			configurable: true,
			writable: true,
			value: Utils.b32.decode(this.buffer)
		});

		return this.b32;
	}

	/**
	 * Hexadecimal representation of secret key.
	 * @type {string}
	 */
	get hex() {
		Object.defineProperty(this, 'hex', {
			enumerable: true,
			configurable: true,
			writable: true,
			value: Utils.hex.decode(this.buffer)
		});

		return this.hex;
	}
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-OTPAuth.html">OTPAuth</a></li></ul><h3>Namespaces</h3><ul><li><a href="Utils.html">Utils</a></li><li><a href="Utils.b32.html">b32</a></li><li><a href="Utils.hex.html">hex</a></li><li><a href="Utils.raw.html">raw</a></li><li><a href="Utils.uint.html">uint</a></li></ul><h3>Classes</h3><ul><li><a href="HOTP.html">HOTP</a></li><li><a href="Secret.html">Secret</a></li><li><a href="TOTP.html">TOTP</a></li><li><a href="URI.html">URI</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Aug 10 2019 21:29:10 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
